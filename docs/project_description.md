# Project Description and Initial Requirements

## Project Description

An agent-based model simulates individual or collective entities (or agents) in order to understand the nature of a system that governs its statistical outcomes.

Low Traffic Neighbourhood schemes are being introduced by the government all across the UK to tackle quality of life factors in certain areas, including air pollution and traffic congestion. These schemes put restriction(s) of travel on motor users via the use of barriers, planters and bollards without obstructing pedestrian or cyclists right of way. LTN schemes are a temporary measure that have the potential to be made permanent given a beneficial implementation.

This project aims to design a user-friendly software demonstrator for a Low Traffic Neighbourhood (LTN) agent-based modelling simulation.

The simulation will be designed for the Royal Albert Memorial Museum (RAMM) as an educational exhibit to be displayed in summer 2024. One of the goals of this is to tackle a heated debate concerning the active traffic control trial in Heavitree through both education and interaction.  The simulation will also be designed with the Exeter City Council in mind as an analytical tool, to this end it should be accurate and produce insight on some metrics key to a successful LTN scheme.

The project is required to present an agent-based simulation model for an LTN scenario that can be presented as an educational and analytical tool through the use of adjustable parameters to manipulate the resulting state of the model to allow the user to understand concepts of LTNs and their local area.

## Initial Requirements

The initial requirements for this project should produce a rudimentary representation of key mechanics of a traffic simulator. These requirements are constructed to satisfy the key objectives of the client's expectations of a educantional and analytical agent-based modelling and simulation tool. In this sense, the initial requirements can be considered a minimum viable product (MVP). The simulation should have clearly visualised roads and agents in its environment.  When a simulation has been completed, statistics should be produced to represent key metrics derived from the project aim accompanied by clear graphical representation of results to the user. These results should visualise the changes the user makes through interacting with the simulation environment. The interactivity and visualisation of the simulation should be a creative educational tool for the users who come by the project at RAMM as well as serving to clearly convey information to users at Exeter City Council that will be able to produce presentable findings to members of the council and the public for decision making purposes.

### Representation of Agents

All car agents should follow the same rules of the road and have the same behaviour. They should be easily distinguishable from other objects in the environment (the road and other agents). Cars follow traffic rules on the road, therefore to behave as law-abiding road users in the simulation. The initial basic rules of the road include the following:
 - a one way road means one direction always
 - cars can only drive on on the right hand lane of any two lane road
 - cars cannot U-turn on roads
 - cars cannot leave roads
 - cars have a fixed speed

SUCCESS CRITERIA 

 - [ ] Car agents should be visually distinct from the road and environment.

 - [ ] Car agents should follow the rules of the road.

 - [ ] Car agents should travel at a speed where they are visible and trackable to the user.

### Stochastic Spawning of Agents

Agents should spawn at a random point on the map and should be assigned a random point on the map to travel to. In the future, the project should introduce weighted probabilities for certain locations (such as shops and offices) to influence the agent's travel decisions. However, for the MVP, this is considered a secondary requirement and is not a priority at this stage. Therefore a random spawn and destination assignment is necessary. Following the initial requirements, a successful prototype would mean that in each run the agent would spawn at a random position on a random road on the map.

SUCCESS CRITERIA

 - [ ] Car agents should spawn in a random location.

 - [ ] Car agents should have a random target destination.

### Agent Pathfinding

Once a source and destination point have been generated by the simulation, a path-finding algorithm should calculate, from the map, the shortest possible path from source to destination points. 
If an agent is to spawn to an area of the map where the path is not possible, the agent should respawn using the agent spawning algorithm. When an agent despawns, whether it reached it destination or not should be added to a traffic restriction figure that should be calculated as a sum through the entirety of a traffic simulation.
    
SUCCESS CRITERIA

 - [ ] The pathfinding algorithm should be able to generate the shortest path between two points.
 
 - [ ] The pathfinding algorithm should follow all established rules of the road.
 
 - [ ] The pathfinding algorithm should be able to determine whether a path is possible or not.
 
 - [ ] Information from the pathfinding algorithm should be stored for statistical use.

### User Interaction

When agents can spawn randomly and pathfind effectively, the user should be able to block off roads of their choice, preventing agents from using the road sections that have been blocked. The user should also be able to unblock roads, such that they can test the simulation with different configurations. This could be done by just disabling an entire road section for now. This would be done before a simulation run starts, not during a run.

SUCCESS CRITERIA   

 - [ ] Users should be able to block road sections.

 - [ ] Users should be able to unblock road sections.

 - [ ] Blocked road sections should not be usable by agents.
       
 - [ ] Accessible method for the user to interact with the block/unblock road function.

### Simple Map

The initial requirements for the road map should facilitate all aforementioned initial requirements of the simulation whilst remaining a manageable size and maintaining simplicity that a prototype user can understand and easily debug. The roads should accommodate agents' functionality and have lanes assigned with one direction of travel that is communicated with the agents.

The roads should be arranged to have one T junction (two roads meet at a right angle), one cross junction (two roads intersect each other) and at least one one way road (a car can only enter at one end, exit at the other, and travels in one direction). This will give a diversity of travel situations for an agent navigating the map from source to destination.

SUCCESS CRITERIA

 - [ ] The map should have a functional and visible representation of roads.

 - [ ] The roads should accommodate functionality of car agents.

 - [ ] The roads should have lanes with one direction of travel.

 - [ ] The map should have one T junction.

 - [ ] The map should have one cross junction.

 - [ ] The map should have one one way road.

 - [ ] The map should be shown from a birds-eye view.

 - [ ] The map should be as small as possible while fulfilling all other criteria.


### Production of Statistical Results

Statistical results from the simulation should show some key representations of the state of travel on the map as well as the consequences of blocking roads on traffic.

Due to the nature of the initial requirements of the model, the complexity of the statistics available are low. Travel time of the agent from source to destination can be measured with a system clock. From agent travel times, total and average air pollution can be derived using sourced statistics. Travel restrictions of residents can also be inferred from the number of times the simulation was forced to respawn an agent due to pathfinding failure.

The simulation should visualise agent traveling at a speed where they are visible and trackable to the user so the process can be viewed in real time. This will be useful both for manual error checking and as a basis for future visualisation and user understanding. 

SUCCESS CRITERIA

 - [ ] The simulation should collect key information as it runs.

 - [ ] The simulation should calculate statistical data, which can be visualised in a graph.

 - [ ] The simulation should visualise traffic moving on the map during simulation runtime.
       
